// -------------------------------------------------------
// Automatically generated with Kodeo's Reegenerator
// Generator: RgenTemplate (internal)
// Generation date: 2014-01-15 08:55
// Generated by: Win81vm\Admin
// -------------------------------------------------------
namespace CustomizeDesigners.Dataset
{
    using System;
    using Kodeo.Reegenerator;
    using Kodeo.Reegenerator.Wrappers;
    
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Reegenerator", "2.0.5.0")]
    public partial class DataSetRenderer : Kodeo.Reegenerator.Generators.CodeRenderer
    {
        
        /// <summary>
        ///Renders the code as defined in the source script file.
        ///</summary>
        ///<returns></returns>
        public override Kodeo.Reegenerator.Generators.RenderResults Render()
        {
            Output.Write("// -------------------------------------------------------\r\n// Automatically gene" +
                    "rated with Kodeo\'s Reegenerator\r\n// Generator: CustomizeDesigners.Dataset.DataSe" +
                    "tRenderer \r\n// Generation date: ");
            Output.Write( System.DateTime.Now.ToString("yyyy-MM-dd hh:mm") );
            Output.Write("\r\n// Generated by: ");
            Output.Write( System.Security.Principal.WindowsIdentity.GetCurrent().Name );
            Output.Write("\r\n// -------------------------------------------------------\r\n\r\n\r\nnamespace ");
            Output.Write( base.ProjectItem.CodeNamespace );
            Output.Write(@" {

    /// <summary>
    ///Represents a strongly typed in-memory cache of data.
    ///</summary>
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute(""System.Data.Design.TypedDataSetGenerator"", ""2.0.0.0"")]
    [global::System.Serializable()]
    [global::System.ComponentModel.DesignerCategoryAttribute(""code"")]
    [global::System.ComponentModel.ToolboxItem(true)]
    [global::System.Xml.Serialization.XmlSchemaProviderAttribute(""GetTypedDataSetSchema"")]
    [global::System.Xml.Serialization.XmlRootAttribute(""");
            Output.Write( this._dataSet.DataSetName );
            Output.Write("\")]\r\n    [global::System.ComponentModel.Design.HelpKeywordAttribute(\"vs.data.Data" +
                    "Set\")]\r\n    public partial class ");
            Output.Write( this._dataSet.DataSetName );
            Output.Write(" : global::System.Data.DataSet {\r\n");
 foreach (System.Data.DataTable table in this._dataSet.Tables) { 
            Output.Write("\r\n        private ");
            Output.Write( TableClassName(table) );
            Output.Write(" ");
            Output.Write( TableVarName(table) );
            Output.Write(";\r\n");
 } 
            Output.Write("\r\n");
 foreach (System.Data.DataRelation relation in this._dataSet.Relations) { 
            Output.Write("\r\n        private global::System.Data.DataRelation relation");
            Output.Write( FixName(relation.RelationName) );
            Output.Write(";\r\n");
 } 
            Output.Write("        \r\n\r\n        private global::System.Data.SchemaSerializationMode _schemaSe" +
                    "rializationMode = global::System.Data.SchemaSerializationMode.IncludeSchema;\r\n  " +
                    "      \r\n        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n   " +
                    "     public ");
            Output.Write( this._dataSet.DataSetName );
            Output.Write(@"() {
            this.BeginInit();
            this.InitClass();
            global::System.ComponentModel.CollectionChangeEventHandler schemaChangedHandler = new global::System.ComponentModel.CollectionChangeEventHandler(this.SchemaChanged);
            base.Tables.CollectionChanged += schemaChangedHandler;
            base.Relations.CollectionChanged += schemaChangedHandler;
            this.EndInit();
        }
    
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        protected ");
            Output.Write( this._dataSet.DataSetName );
            Output.Write(@"(global::System.Runtime.Serialization.SerializationInfo info, global::System.Runtime.Serialization.StreamingContext context) : 
                base(info, context, false) {
            if ((this.IsBinarySerialized(info, context) == true)) {
                this.InitVars(false);
                global::System.ComponentModel.CollectionChangeEventHandler schemaChangedHandler1 = new global::System.ComponentModel.CollectionChangeEventHandler(this.SchemaChanged);
                this.Tables.CollectionChanged += schemaChangedHandler1;
                this.Relations.CollectionChanged += schemaChangedHandler1;
                return;
            }
            string strSchema = ((string)(info.GetValue(""XmlSchema"", typeof(string))));
            if ((this.DetermineSchemaSerializationMode(info, context) == global::System.Data.SchemaSerializationMode.IncludeSchema)) {
                global::System.Data.DataSet ds = new global::System.Data.DataSet();
                ds.ReadXmlSchema(new global::System.Xml.XmlTextReader(new global::System.IO.StringReader(strSchema)));
");
 foreach (System.Data.DataTable table in this._dataSet.Tables) { 
            Output.Write("\r\n                if ((ds.Tables[\"");
            Output.Write( UserTableName(table) );
            Output.Write("\"] != null)) {\r\n                    base.Tables.Add(new ");
            Output.Write( TableClassName(table) );
            Output.Write("(ds.Tables[\"");
            Output.Write( UserTableName(table) );
            Output.Write("\"]));\r\n                }\r\n");
 } 
            Output.Write(@"        
                this.DataSetName = ds.DataSetName;
                this.Prefix = ds.Prefix;
                this.Namespace = ds.Namespace;
                this.Locale = ds.Locale;
                this.CaseSensitive = ds.CaseSensitive;
                this.EnforceConstraints = ds.EnforceConstraints;
                this.Merge(ds, false, global::System.Data.MissingSchemaAction.Add);
                this.InitVars();
            }
            else {
                this.ReadXmlSchema(new global::System.Xml.XmlTextReader(new global::System.IO.StringReader(strSchema)));
            }
            this.GetSerializationData(info, context);
            global::System.ComponentModel.CollectionChangeEventHandler schemaChangedHandler = new global::System.ComponentModel.CollectionChangeEventHandler(this.SchemaChanged);
            base.Tables.CollectionChanged += schemaChangedHandler;
            this.Relations.CollectionChanged += schemaChangedHandler;
        }
");
 foreach (System.Data.DataTable table in this._dataSet.Tables) { 
            Output.Write(@"
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        [global::System.ComponentModel.Browsable(false)]
        [global::System.ComponentModel.DesignerSerializationVisibility(global::System.ComponentModel.DesignerSerializationVisibility.Content)]
        public ");
            Output.Write( TableClassName(table) );
            Output.Write(" ");
            Output.Write( TablePropName(table) );
            Output.Write(" {\r\n            get {\r\n                return this.");
            Output.Write( TableVarName(table) );
            Output.Write(";\r\n            }\r\n        }\r\n");
 } 
            Output.Write("\r\n        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n        [g" +
                    "lobal::System.ComponentModel.BrowsableAttribute(true)]\r\n        [global::System." +
                    "ComponentModel.DesignerSerializationVisibilityAttribute(global::System.Component" +
                    "Model.DesignerSerializationVisibility.Visible)]\r\n        public override global:" +
                    ":System.Data.SchemaSerializationMode SchemaSerializationMode {\r\n            get " +
                    "{\r\n                return this._schemaSerializationMode;\r\n            }\r\n       " +
                    "     set {\r\n                this._schemaSerializationMode = value;\r\n            " +
                    "}\r\n        }\r\n        \r\n        [global::System.Diagnostics.DebuggerNonUserCodeA" +
                    "ttribute()]\r\n        [global::System.ComponentModel.DesignerSerializationVisibil" +
                    "ityAttribute(global::System.ComponentModel.DesignerSerializationVisibility.Hidde" +
                    "n)]\r\n        public new global::System.Data.DataTableCollection Tables {\r\n      " +
                    "      get {\r\n                return base.Tables;\r\n            }\r\n        }\r\n    " +
                    "    \r\n        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n     " +
                    "   [global::System.ComponentModel.DesignerSerializationVisibilityAttribute(globa" +
                    "l::System.ComponentModel.DesignerSerializationVisibility.Hidden)]\r\n        publi" +
                    "c new global::System.Data.DataRelationCollection Relations {\r\n            get {\r" +
                    "\n                return base.Relations;\r\n            }\r\n        }\r\n        \r\n   " +
                    "     [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n        protec" +
                    "ted override void InitializeDerivedDataSet() {\r\n            this.BeginInit();\r\n " +
                    "           this.InitClass();\r\n            this.EndInit();\r\n        }\r\n        \r\n" +
                    "        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n        pub" +
                    "lic override global::System.Data.DataSet Clone() {\r\n            ");
            Output.Write( this._dataSet.DataSetName );
            Output.Write(" cln = ((");
            Output.Write( this._dataSet.DataSetName );
            Output.Write(@")(base.Clone()));
            cln.InitVars();
            cln.SchemaSerializationMode = this.SchemaSerializationMode;
            return cln;
        }
        
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        protected override bool ShouldSerializeTables() {
            return false;
        }
        
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        protected override bool ShouldSerializeRelations() {
            return false;
        }
        
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        protected override void ReadXmlSerializable(global::System.Xml.XmlReader reader) {
            if ((this.DetermineSchemaSerializationMode(reader) == global::System.Data.SchemaSerializationMode.IncludeSchema)) {
                this.Reset();
                global::System.Data.DataSet ds = new global::System.Data.DataSet();
                ds.ReadXml(reader);
");
 foreach (System.Data.DataTable table in this._dataSet.Tables) { 
            Output.Write("\r\n                if ((ds.Tables[\"");
            Output.Write( UserTableName(table) );
            Output.Write("\"] != null)) {\r\n                    base.Tables.Add(new ");
            Output.Write( TableClassName(table) );
            Output.Write("(ds.Tables[\"");
            Output.Write( UserTableName(table) );
            Output.Write("\"]));\r\n                }\r\n");
 } 
            Output.Write(@"        
                this.DataSetName = ds.DataSetName;
                this.Prefix = ds.Prefix;
                this.Namespace = ds.Namespace;
                this.Locale = ds.Locale;
                this.CaseSensitive = ds.CaseSensitive;
                this.EnforceConstraints = ds.EnforceConstraints;
                this.Merge(ds, false, global::System.Data.MissingSchemaAction.Add);
                this.InitVars();
            }
            else {
                this.ReadXml(reader);
                this.InitVars();
            }
        }
         
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        protected override global::System.Xml.Schema.XmlSchema GetSchemaSerializable() {
            global::System.IO.MemoryStream stream = new global::System.IO.MemoryStream();
            this.WriteXmlSchema(new global::System.Xml.XmlTextWriter(stream, null));
            stream.Position = 0;
            return global::System.Xml.Schema.XmlSchema.Read(new global::System.Xml.XmlTextReader(stream), null);
        }
        
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        internal void InitVars() {
            this.InitVars(true);
        }
       
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        internal void InitVars(bool initTable) {
");
 foreach (System.Data.DataTable table in this._dataSet.Tables) { 
            Output.Write("\r\n            this.");
            Output.Write( TableVarName(table) );
            Output.Write(" = ((");
            Output.Write( TableClassName(table) );
            Output.Write(")(base.Tables[\"");
            Output.Write( UserTableName(table) );
            Output.Write("\"]));\r\n            if ((initTable == true)) {\r\n                if ((this.");
            Output.Write( TableVarName(table) );
            Output.Write(" != null)) {\r\n                    this.");
            Output.Write( TableVarName(table) );
            Output.Write(".InitVars();\r\n                }\r\n            }\r\n");
 } 
            Output.Write("        \r\n");
 foreach (System.Data.DataRelation relation in this._dataSet.Relations) { 
            Output.Write("\r\n            this.relation");
            Output.Write( FixName(relation.RelationName) );
            Output.Write(" = this.Relations[\"");
            Output.Write( relation.RelationName );
            Output.Write("\"];\r\n");
 } 
            Output.Write("        \r\n        }\r\n        \r\n        [global::System.Diagnostics.DebuggerNonUse" +
                    "rCodeAttribute()]\r\n        private void InitClass() {\r\n            this.DataSetN" +
                    "ame = \"");
            Output.Write( this._dataSet.DataSetName );
            Output.Write("\";\r\n            this.Prefix = \"\";\r\n            this.Namespace = \"");
            Output.Write( this._dataSet.Namespace );
            Output.Write("\";\r\n            this.EnforceConstraints = true;\r\n            this.SchemaSerializa" +
                    "tionMode = global::System.Data.SchemaSerializationMode.IncludeSchema;\r\n");
 foreach (System.Data.DataTable table in this._dataSet.Tables) { 
            Output.Write("\r\n            this.");
            Output.Write( TableVarName(table) );
            Output.Write(" = new ");
            Output.Write( TableClassName(table) );
            Output.Write("();\r\n            base.Tables.Add(this.");
            Output.Write( TableVarName(table) );
            Output.Write(");\r\n");
 } 
            Output.Write("\r\n");
  foreach (System.Data.DataTable table in this._dataSet.Tables) { 
        foreach (System.Data.Constraint constraint in table.Constraints) { 
            System.Data.ForeignKeyConstraint fkc = constraint as System.Data.ForeignKeyConstraint;
                if (fkc == null)
                    continue; 
            Output.Write("\r\n            global::System.Data.ForeignKeyConstraint fkc;\r\n            fkc = ne" +
                    "w global::System.Data.ForeignKeyConstraint(\"");
            Output.Write( fkc.ConstraintName );
            Output.Write("\", new global::System.Data.DataColumn[] {\r\n                        ");
            Output.Write( RenderConstraintColumns(fkc.RelatedColumns) );
            Output.Write("}, new global::System.Data.DataColumn[] {\r\n                        ");
            Output.Write( RenderConstraintColumns(fkc.Columns) );
            Output.Write("});\r\n            this.");
            Output.Write( TableVarName(table) );
            Output.Write(".Constraints.Add(fkc);\r\n            fkc.AcceptRejectRule = ");
            Output.Write( RenderEnumItem(fkc.AcceptRejectRule) );
            Output.Write(";\r\n            fkc.DeleteRule = ");
            Output.Write( RenderEnumItem(fkc.DeleteRule) );
            Output.Write(";\r\n            fkc.UpdateRule = ");
            Output.Write( RenderEnumItem(fkc.UpdateRule) );
            Output.Write(";\r\n");
 } } 
            Output.Write("\r\n");
 foreach (System.Data.DataRelation relation in this._dataSet.Relations) { 
            Output.Write("\r\n            this.relation");
            Output.Write( FixName(relation.RelationName) );
            Output.Write(" = new global::System.Data.DataRelation(\"");
            Output.Write( relation.RelationName );
            Output.Write("\", new global::System.Data.DataColumn[] {\r\n                        ");
            Output.Write( RenderConstraintColumns(relation.ParentColumns) );
            Output.Write("}, new global::System.Data.DataColumn[] {\r\n                        ");
            Output.Write( RenderConstraintColumns(relation.ChildColumns) );
            Output.Write("}, false);\r\n            ");
 if (relation.Nested) { 
            Output.Write("this.relation");
            Output.Write( FixName(relation.RelationName) );
            Output.Write(".Nested = true; ");
 } 
            Output.Write("     \r\n            this.Relations.Add(this.relation");
            Output.Write( FixName(relation.RelationName) );
            Output.Write(");\r\n");
 } 
            Output.Write("\r\n        }\r\n");
 foreach (System.Data.DataTable table in this._dataSet.Tables) { 
            Output.Write("\r\n        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n        pr" +
                    "ivate bool ShouldSerialize");
            Output.Write( TablePropName(table) );
            Output.Write("() {\r\n            return false;\r\n        }\r\n");
 } 
            Output.Write(@"        
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        private void SchemaChanged(object sender, global::System.ComponentModel.CollectionChangeEventArgs e) {
            if ((e.Action == global::System.ComponentModel.CollectionChangeAction.Remove)) {
                this.InitVars();
            }
        }
        
        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        public static global::System.Xml.Schema.XmlSchemaComplexType GetTypedDataSetSchema(global::System.Xml.Schema.XmlSchemaSet xs) {
            ");
            Output.Write( this._dataSet.DataSetName );
            Output.Write(" ds = new ");
            Output.Write( this._dataSet.DataSetName );
            Output.Write("();\r\n            global::System.Xml.Schema.XmlSchemaComplexType type = new global" +
                    "::System.Xml.Schema.XmlSchemaComplexType();\r\n            global::System.Xml.Sche" +
                    "ma.XmlSchemaSequence sequence = new global::System.Xml.Schema.XmlSchemaSequence(" +
                    ");\r\n            global::System.Xml.Schema.XmlSchemaAny any = new global::System." +
                    "Xml.Schema.XmlSchemaAny();\r\n            any.Namespace = ds.Namespace;\r\n         " +
                    "   sequence.Items.Add(any);\r\n            type.Particle = sequence;\r\n            " +
                    "global::System.Xml.Schema.XmlSchema dsSchema = ds.GetSchemaSerializable();\r\n    " +
                    "        if (xs.Contains(dsSchema.TargetNamespace)) {\r\n                global::Sy" +
                    "stem.IO.MemoryStream s1 = new global::System.IO.MemoryStream();\r\n               " +
                    " global::System.IO.MemoryStream s2 = new global::System.IO.MemoryStream();\r\n    " +
                    "            try {\r\n                    global::System.Xml.Schema.XmlSchema schem" +
                    "a = null;\r\n                    dsSchema.Write(s1);\r\n                    for (glo" +
                    "bal::System.Collections.IEnumerator schemas = xs.Schemas(dsSchema.TargetNamespac" +
                    "e).GetEnumerator(); schemas.MoveNext(); ) {\r\n                        schema = ((" +
                    "global::System.Xml.Schema.XmlSchema)(schemas.Current));\r\n                       " +
                    " s2.SetLength(0);\r\n                        schema.Write(s2);\r\n                  " +
                    "      if ((s1.Length == s2.Length)) {\r\n                            s1.Position =" +
                    " 0;\r\n                            s2.Position = 0;\r\n                            f" +
                    "or (; ((s1.Position != s1.Length) \r\n                                        && (" +
                    "s1.ReadByte() == s2.ReadByte())); ) {\r\n                                ;\r\n      " +
                    "                      }\r\n                            if ((s1.Position == s1.Leng" +
                    "th)) {\r\n                                return type;\r\n                          " +
                    "  }\r\n                        }\r\n                    }\r\n                }\r\n      " +
                    "          finally {\r\n                    if ((s1 != null)) {\r\n                  " +
                    "      s1.Close();\r\n                    }\r\n                    if ((s2 != null)) " +
                    "{\r\n                        s2.Close();\r\n                    }\r\n                }" +
                    "\r\n            }\r\n            xs.Add(dsSchema);\r\n            return type;\r\n      " +
                    "  }\r\n");
 
        foreach (System.Data.DataTable table in this._dataSet.Tables)
            RenderTableRowChangeEventHandler(table);
        foreach (System.Data.DataTable table in this._dataSet.Tables)
            RenderTable(table);
        foreach (System.Data.DataTable table in this._dataSet.Tables)
            RenderTableRow(table);
        foreach (System.Data.DataTable table in this._dataSet.Tables)
            RenderTableRowChangeEvent(table);

            Output.Write("        \r\n   }\r\n}");
            Output.WriteLine();
            return new Kodeo.Reegenerator.Generators.RenderResults(this.Output.ToString());
        }
        
        /// <summary>
        ///Renders the code as defined in the source script file.
        ///</summary>
        ///<param name="table"></param>
        public virtual void RenderTableRowChangeEventHandler(System.Data.DataTable table)
        {
            Output.Write("        public delegate void ");
            Output.Write( RowChangeEventHandlerName(table) );
            Output.Write("(object sender, ");
            Output.Write( RowChangeEventName(table) );
            Output.Write(" e);");
            Output.WriteLine();
        }
        
        /// <summary>
        ///Renders the code as defined in the source script file.
        ///</summary>
        ///<param name="table"></param>
        public virtual void RenderTable(System.Data.DataTable table)
        {
            Output.Write(@"        /// <summary>
        ///Represents the strongly named DataTable class.
        ///</summary>
        [global::System.CodeDom.Compiler.GeneratedCodeAttribute(""System.Data.Design.TypedDataSetGenerator"", ""2.0.0.0"")]
        [global::System.Serializable()]
        [global::System.Xml.Serialization.XmlSchemaProviderAttribute(""GetTypedTableSchema"")]
        public partial class ");
            Output.Write( TableClassName(table) );
            Output.Write(" : global::System.Data.TypedTableBase< ");
            Output.Write( RowClassName(table) );
            Output.Write(" > {\r\n");
 foreach (System.Data.DataColumn column in table.Columns) { 
            Output.Write("\r\n            private global::System.Data.DataColumn column");
            Output.Write( column.ColumnName );
            Output.Write(";\r\n");
 } 
            Output.Write("        \r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]" +
                    "\r\n            public ");
            Output.Write( TableClassName(table) );
            Output.Write("() {\r\n                this.TableName = \"");
            Output.Write( UserTableName(table) );
            Output.Write("\";\r\n                this.BeginInit();\r\n                this.InitClass();\r\n       " +
                    "         this.EndInit();\r\n            }\r\n            \r\n            [global::Syst" +
                    "em.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n            internal ");
            Output.Write( TableClassName(table) );
            Output.Write(@"(global::System.Data.DataTable table) {
                this.TableName = table.TableName;
                if ((table.CaseSensitive != table.DataSet.CaseSensitive)) {
                    this.CaseSensitive = table.CaseSensitive;
                }
                if ((table.Locale.ToString() != table.DataSet.Locale.ToString())) {
                    this.Locale = table.Locale;
                }
                if ((table.Namespace != table.DataSet.Namespace)) {
                    this.Namespace = table.Namespace;
                }
                this.Prefix = table.Prefix;
                this.MinimumCapacity = table.MinimumCapacity;
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            protected ");
            Output.Write( TableClassName(table) );
            Output.Write("(global::System.Runtime.Serialization.SerializationInfo info, global::System.Runt" +
                    "ime.Serialization.StreamingContext context) : \r\n                    base(info, c" +
                    "ontext) {\r\n                this.InitVars();\r\n            }\r\n");
 foreach (System.Data.DataColumn column in table.Columns) { 
            Output.Write("\r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n      " +
                    "      public global::System.Data.DataColumn ");
            Output.Write( column.ColumnName );
            Output.Write("Column {\r\n                get {\r\n                    return this.column");
            Output.Write( column.ColumnName );
            Output.Write(";\r\n                }\r\n            }\r\n");
 } 
            Output.Write(@"        
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            [global::System.ComponentModel.Browsable(false)]
            public int Count {
                get {
                    return this.Rows.Count;
                }
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            public ");
            Output.Write( RowClassName(table) );
            Output.Write(" this[int index] {\r\n                get {\r\n                    return ((");
            Output.Write( RowClassName(table) );
            Output.Write(")(this.Rows[index]));\r\n                }\r\n            }\r\n            \r\n          " +
                    "  public event ");
            Output.Write( RowChangeEventHandlerName(table) );
            Output.Write(" ");
            Output.Write( RowChangingName(table) );
            Output.Write(";\r\n            \r\n            public event ");
            Output.Write( RowChangeEventHandlerName(table) );
            Output.Write(" ");
            Output.Write( RowChangedName(table) );
            Output.Write(";\r\n            \r\n            public event ");
            Output.Write( RowChangeEventHandlerName(table) );
            Output.Write(" ");
            Output.Write( RowDeletingName(table) );
            Output.Write(";\r\n            \r\n            public event ");
            Output.Write( RowChangeEventHandlerName(table) );
            Output.Write(" ");
            Output.Write( RowDeletedName(table) );
            Output.Write(";\r\n            \r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttri" +
                    "bute()]\r\n            public void Add");
            Output.Write( RowClassName(table) );
            Output.Write("(");
            Output.Write( RowClassName(table) );
            Output.Write(" row) {\r\n                this.Rows.Add(row);\r\n            }\r\n            [global:" +
                    ":System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n            public ");
            Output.Write( RowClassName(table) );
            Output.Write(" Add");
            Output.Write( RowClassName(table) );
            Output.Write("(");
            Output.Write( this.RenderAddRowParameters(table.Columns));
            Output.Write(") {\r\n                ");
            Output.Write( RowClassName(table) );
            Output.Write(" row");
            Output.Write( RowClassName(table) );
            Output.Write(" = ((");
            Output.Write( RowClassName(table) );
            Output.Write(")(this.NewRow()));\r\n                ");
            Output.Write( DecorateMultiLine("\t\t\t\t{0}", RenderAddRowArray(table.Columns)) );
            Output.Write("\r\n                row");
            Output.Write( RowClassName(table) );
            Output.Write(".ItemArray = columnValuesArray;\r\n                this.Rows.Add(row");
            Output.Write( RowClassName(table) );
            Output.Write(");\r\n                return row");
            Output.Write( RowClassName(table) );
            Output.Write(";\r\n            }\r\n");
 if (table.PrimaryKey != null && table.PrimaryKey.Length > 0) { 
            Output.Write("\r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n      " +
                    "      public ");
            Output.Write( RowClassName(table) );
            Output.Write(" FindBy");
            Output.Write( GetColumnsAsNameList(table.PrimaryKey) );
            Output.Write("(");
            Output.Write( GetColumnsAsParameters(table.PrimaryKey) );
            Output.Write(") {\r\n                return ((");
            Output.Write( RowClassName(table) );
            Output.Write(")(this.Rows.Find(new object[] {\r\n                            ");
            Output.Write( GetColumnsAsArray(table.PrimaryKey) );
            Output.Write("})));\r\n            }\r\n");
 } 
            Output.Write("  \r\n            \r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttr" +
                    "ibute()]\r\n            public override global::System.Data.DataTable Clone() {\r\n " +
                    "               ");
            Output.Write( TableClassName(table) );
            Output.Write(" cln = ((");
            Output.Write( TableClassName(table) );
            Output.Write(@")(base.Clone()));
                cln.InitVars();
                return cln;
            }

            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            protected override global::System.Data.DataTable CreateInstance() {
                return new ");
            Output.Write( TableClassName(table) );
            Output.Write("();\r\n            }\r\n            \r\n            [global::System.Diagnostics.Debugge" +
                    "rNonUserCodeAttribute()]\r\n            internal void InitVars() {\r\n");
 foreach (System.Data.DataColumn column in table.Columns) { 
            Output.Write("\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(" = base.Columns[\"");
            Output.Write( column.ColumnName );
            Output.Write("\"];\r\n");
 } 
            Output.Write("        \r\n            }\r\n            \r\n            [global::System.Diagnostics.De" +
                    "buggerNonUserCodeAttribute()]\r\n            private void InitClass() {\r\n");
    foreach (System.Data.DataColumn column in table.Columns) { 
            Output.Write("\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(" = new global::System.Data.DataColumn(\"");
            Output.Write( column.ColumnName );
            Output.Write("\", typeof(");
            Output.Write( LangType(column.DataType).Replace("System.", "global::System.") );
            Output.Write("), null, global::System.Data.MappingType.Element);\r\n                base.Columns." +
                    "Add(this.column");
            Output.Write( column.ColumnName );
            Output.Write(");\r\n");
    } 
    foreach (System.Data.Constraint constraint in table.Constraints) { 
        System.Data.UniqueConstraint uc = constraint as System.Data.UniqueConstraint;
        if (true && uc == null) 
            continue; 
            Output.Write("\r\n                this.Constraints.Add(new global::System.Data.UniqueConstraint(\"" +
                    "");
            Output.Write( uc.ConstraintName );
            Output.Write("\", new global::System.Data.DataColumn[] {\r\n                                ");
            Output.Write( RenderUniqueConstraintColumns(uc.Columns) );
            Output.Write("}, ");
            Output.Write( uc.IsPrimaryKey.ToString().ToLower() );
            Output.Write("));\r\n");
    } 
    foreach (System.Data.DataColumn column in table.Columns) { 
        if (column.AutoIncrement) { 
            Output.Write("\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(".AutoIncrement = true;\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(".AutoIncrementSeed = ");
            Output.Write( column.AutoIncrementSeed );
            Output.Write(";\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(".AutoIncrementStep = ");
            Output.Write( column.AutoIncrementStep );
            Output.Write(";\r\n    ");
    } if (!column.AllowDBNull) { 
            Output.Write("\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(".AllowDBNull = false;\r\n    ");
    } if (column.ReadOnly) { 
            Output.Write("\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(".ReadOnly = true;\r\n    ");
    } if (column.Unique) { 
            Output.Write("\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(".Unique = true;\r\n    ");
    } if (column.MaxLength != -1) { 
            Output.Write("\r\n                this.column");
            Output.Write( column.ColumnName );
            Output.Write(".MaxLength = ");
            Output.Write( column.MaxLength );
            Output.Write(";\r\n");
        }
    } 
            Output.Write("\r\n            }\r\n            \r\n            [global::System.Diagnostics.DebuggerNo" +
                    "nUserCodeAttribute()]\r\n            public ");
            Output.Write( RowClassName(table) );
            Output.Write(" New");
            Output.Write( RowClassName(table) );
            Output.Write("() {\r\n                return ((");
            Output.Write( RowClassName(table) );
            Output.Write(@")(this.NewRow()));
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            protected override global::System.Data.DataRow NewRowFromBuilder(global::System.Data.DataRowBuilder builder) {
                return new ");
            Output.Write( RowClassName(table) );
            Output.Write("(builder);\r\n            }\r\n            \r\n            [global::System.Diagnostics." +
                    "DebuggerNonUserCodeAttribute()]\r\n            protected override global::System.T" +
                    "ype GetRowType() {\r\n                return typeof(");
            Output.Write( RowClassName(table) );
            Output.Write(@");
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            protected override void OnRowChanged(global::System.Data.DataRowChangeEventArgs e) {
                base.OnRowChanged(e);
                if ((this.");
            Output.Write( RowChangedName(table) );
            Output.Write(" != null)) {\r\n                    this.");
            Output.Write( RowChangedName(table) );
            Output.Write("(this, new ");
            Output.Write( RowClassName(table) );
            Output.Write("ChangeEvent(((");
            Output.Write( RowClassName(table) );
            Output.Write(@")(e.Row)), e.Action));
                }
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            protected override void OnRowChanging(global::System.Data.DataRowChangeEventArgs e) {
                base.OnRowChanging(e);
                if ((this.");
            Output.Write( RowChangingName(table) );
            Output.Write(" != null)) {\r\n                    this.");
            Output.Write( RowChangingName(table) );
            Output.Write("(this, new ");
            Output.Write( RowClassName(table) );
            Output.Write("ChangeEvent(((");
            Output.Write( RowClassName(table) );
            Output.Write(@")(e.Row)), e.Action));
                }
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            protected override void OnRowDeleted(global::System.Data.DataRowChangeEventArgs e) {
                base.OnRowDeleted(e);
                if ((this.");
            Output.Write( RowDeletedName(table) );
            Output.Write(" != null)) {\r\n                    this.");
            Output.Write( RowDeletedName(table) );
            Output.Write("(this, new ");
            Output.Write( RowClassName(table) );
            Output.Write("ChangeEvent(((");
            Output.Write( RowClassName(table) );
            Output.Write(@")(e.Row)), e.Action));
                }
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            protected override void OnRowDeleting(global::System.Data.DataRowChangeEventArgs e) {
                base.OnRowDeleting(e);
                if ((this.");
            Output.Write( RowDeletingName(table) );
            Output.Write(" != null)) {\r\n                    this.");
            Output.Write( RowDeletingName(table) );
            Output.Write("(this, new ");
            Output.Write( RowClassName(table) );
            Output.Write("ChangeEvent(((");
            Output.Write( RowClassName(table) );
            Output.Write(")(e.Row)), e.Action));\r\n                }\r\n            }\r\n            \r\n         " +
                    "   [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n            publ" +
                    "ic void Remove");
            Output.Write( RowClassName(table) );
            Output.Write("(");
            Output.Write( RowClassName(table) );
            Output.Write(@" row) {
                this.Rows.Remove(row);
            }

            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            public static global::System.Xml.Schema.XmlSchemaComplexType GetTypedTableSchema(global::System.Xml.Schema.XmlSchemaSet xs) {
                global::System.Xml.Schema.XmlSchemaComplexType type = new global::System.Xml.Schema.XmlSchemaComplexType();
                global::System.Xml.Schema.XmlSchemaSequence sequence = new global::System.Xml.Schema.XmlSchemaSequence();
                ");
            Output.Write( table.DataSet.DataSetName );
            Output.Write(" ds = new ");
            Output.Write( table.DataSet.DataSetName );
            Output.Write(@"();
                global::System.Xml.Schema.XmlSchemaAny any1 = new global::System.Xml.Schema.XmlSchemaAny();
                any1.Namespace = ""http://www.w3.org/2001/XMLSchema"";
                any1.MinOccurs = new decimal(0);
                any1.MaxOccurs = decimal.MaxValue;
                any1.ProcessContents = global::System.Xml.Schema.XmlSchemaContentProcessing.Lax;
                sequence.Items.Add(any1);
                global::System.Xml.Schema.XmlSchemaAny any2 = new global::System.Xml.Schema.XmlSchemaAny();
                any2.Namespace = ""urn:schemas-microsoft-com:xml-diffgram-v1"";
                any2.MinOccurs = new decimal(1);
                any2.ProcessContents = global::System.Xml.Schema.XmlSchemaContentProcessing.Lax;
                sequence.Items.Add(any2);
                global::System.Xml.Schema.XmlSchemaAttribute attribute1 = new global::System.Xml.Schema.XmlSchemaAttribute();
                attribute1.Name = ""namespace"";
                attribute1.FixedValue = ds.Namespace;
                type.Attributes.Add(attribute1);
                global::System.Xml.Schema.XmlSchemaAttribute attribute2 = new global::System.Xml.Schema.XmlSchemaAttribute();
                attribute2.Name = ""tableTypeName"";
                attribute2.FixedValue = """);
            Output.Write( TableClassName(table) );
            Output.Write("\";\r\n                type.Attributes.Add(attribute2);\r\n                type.Partic" +
                    "le = sequence;\r\n                global::System.Xml.Schema.XmlSchema dsSchema = d" +
                    "s.GetSchemaSerializable();\r\n                if (xs.Contains(dsSchema.TargetNames" +
                    "pace)) {\r\n                    global::System.IO.MemoryStream s1 = new global::Sy" +
                    "stem.IO.MemoryStream();\r\n                    global::System.IO.MemoryStream s2 =" +
                    " new global::System.IO.MemoryStream();\r\n                    try {\r\n             " +
                    "           global::System.Xml.Schema.XmlSchema schema = null;\r\n                 " +
                    "       dsSchema.Write(s1);\r\n                        for (global::System.Collecti" +
                    "ons.IEnumerator schemas = xs.Schemas(dsSchema.TargetNamespace).GetEnumerator(); " +
                    "schemas.MoveNext(); ) {\r\n                            schema = ((global::System.X" +
                    "ml.Schema.XmlSchema)(schemas.Current));\r\n                            s2.SetLengt" +
                    "h(0);\r\n                            schema.Write(s2);\r\n                          " +
                    "  if ((s1.Length == s2.Length)) {\r\n                                s1.Position =" +
                    " 0;\r\n                                s2.Position = 0;\r\n                         " +
                    "       for (; ((s1.Position != s1.Length) \r\n                                    " +
                    "        && (s1.ReadByte() == s2.ReadByte())); ) {\r\n                             " +
                    "       ;\r\n                                }\r\n                                if " +
                    "((s1.Position == s1.Length)) {\r\n                                    return type;" +
                    "\r\n                                }\r\n                            }\r\n            " +
                    "            }\r\n                    }\r\n                    finally {\r\n           " +
                    "             if ((s1 != null)) {\r\n                            s1.Close();\r\n     " +
                    "                   }\r\n                        if ((s2 != null)) {\r\n             " +
                    "               s2.Close();\r\n                        }\r\n                    }\r\n  " +
                    "              }\r\n                xs.Add(dsSchema);\r\n                return type;" +
                    "\r\n            }\r\n        }\r\n");
            Output.WriteLine();
        }
        
        /// <summary>
        ///Renders the code as defined in the source script file.
        ///</summary>
        ///<param name="table"></param>
        public virtual void RenderTableRow(System.Data.DataTable table)
        {
            Output.Write("        /// <summary>\r\n        ///Represents strongly named DataRow class.\r\n     " +
                    "   ///</summary>\r\n        [global::System.CodeDom.Compiler.GeneratedCodeAttribut" +
                    "e(\"System.Data.Design.TypedDataSetGenerator\", \"2.0.0.0\")]\r\n        public partia" +
                    "l class ");
            Output.Write( RowClassName(table) );
            Output.Write(" : global::System.Data.DataRow {\r\n            \r\n            private ");
            Output.Write( TableClassName(table) );
            Output.Write(" ");
            Output.Write( TableVarName(table) );
            Output.Write(";\r\n            \r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttri" +
                    "bute()]\r\n            internal ");
            Output.Write( RowClassName(table) );
            Output.Write("(global::System.Data.DataRowBuilder rb) : \r\n                    base(rb) {\r\n     " +
                    "           this.");
            Output.Write( TableVarName(table) );
            Output.Write(" = ((");
            Output.Write( TableClassName(table) );
            Output.Write(")(this.Table));\r\n            }\r\n");
 foreach (System.Data.DataColumn column in table.Columns) { 
            Output.Write("\r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n      " +
                    "      public ");
            Output.Write( LangType(column.DataType) );
            Output.Write(" ");
            Output.Write( column.ColumnName );
            Output.Write(" {\r\n                get {\r\n    ");
 if (column.AllowDBNull) {
            Output.Write("\r\n                    try {\r\n                        return ((");
            Output.Write( LangType(column.DataType).Replace("System.", "global::System.") );
            Output.Write(")(this[this.");
            Output.Write( TableVarName(table) );
            Output.Write(".");
            Output.Write( column.ColumnName );
            Output.Write("Column]));\r\n                    }\r\n                    catch (global::System.Inva" +
                    "lidCastException e) {\r\n                        throw new global::System.Data.Str" +
                    "ongTypingException(\"The value for column \\\'");
            Output.Write( column.ColumnName );
            Output.Write("\\\' in table \\\'");
            Output.Write( table.TableName );
            Output.Write("\\\' is DBNull.\", e);\r\n                    }\r\n    ");
 } else { 
            Output.Write("\r\n                    return ((");
            Output.Write( LangType(column.DataType) );
            Output.Write(")(this[this.");
            Output.Write( TableVarName(table) );
            Output.Write(".");
            Output.Write( column.ColumnName );
            Output.Write("Column]));\r\n    ");
 } 
            Output.Write("\r\n                }\r\n                set {\r\n                    this[this.");
            Output.Write( TableVarName(table) );
            Output.Write(".");
            Output.Write( column.ColumnName );
            Output.Write("Column] = value;\r\n                }\r\n            }\r\n");
 } 
            Output.Write("\r\n");
 foreach (System.Data.DataRelation relation in this._dataSet.Relations) { 
    if (relation.ChildTable != table)
        continue;

            Output.Write("\r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n      " +
                    "      public ");
            Output.Write( relation.ParentTable.TableName );
            Output.Write("Row ");
            Output.Write( relation.ParentTable.TableName );
            Output.Write("Row");
            Output.Write( (RowClassName(table) == relation.ParentTable.TableName + "Row") ? "Parent" : "" );
            Output.Write(" {\r\n                get {\r\n                    return ((");
            Output.Write( relation.ParentTable.TableName );
            Output.Write("Row)(this.GetParentRow(this.Table.ParentRelations[\"");
            Output.Write( relation.RelationName );
            Output.Write("\"])));\r\n                }\r\n                set {\r\n                    this.SetPar" +
                    "entRow(value, this.Table.ParentRelations[\"");
            Output.Write( relation.RelationName );
            Output.Write("\"]);\r\n                }\r\n            }\r\n");
 } 
            Output.Write("        \r\n");
 foreach (System.Data.DataColumn column in table.Columns) 
    if (column.AllowDBNull) { 
            Output.Write("\r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n      " +
                    "      public bool Is");
            Output.Write( column.ColumnName );
            Output.Write("Null() {\r\n                return this.IsNull(this.");
            Output.Write( TableVarName(table) );
            Output.Write(".");
            Output.Write( column.ColumnName );
            Output.Write("Column);\r\n            }\r\n            \r\n            [global::System.Diagnostics.De" +
                    "buggerNonUserCodeAttribute()]\r\n            public void Set");
            Output.Write( column.ColumnName );
            Output.Write("Null() {\r\n                this[this.");
            Output.Write( TableVarName(table) );
            Output.Write(".");
            Output.Write( column.ColumnName );
            Output.Write("Column] = global::System.Convert.DBNull;\r\n            }\r\n");
 } 
            Output.Write("\r\n");
 foreach (System.Data.DataRelation relation in this._dataSet.Relations) { 
    if (relation.ParentTable != table)
        continue;

            Output.Write("\r\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n      " +
                    "      public ");
            Output.Write( RowClassName(relation.ChildTable) );
            Output.Write("[] Get");
            Output.Write( TablePropName(relation.ChildTable) );
            Output.Write("Rows() {\r\n                if ((this.Table.ChildRelations[\"");
            Output.Write( relation.RelationName );
            Output.Write("\"] == null)) {\r\n                    return new ");
            Output.Write( RowClassName(relation.ChildTable) );
            Output.Write("[0];\r\n                }\r\n                else {\r\n                    return ((");
            Output.Write( RowClassName(relation.ChildTable) );
            Output.Write("[])(base.GetChildRows(this.Table.ChildRelations[\"");
            Output.Write( relation.RelationName );
            Output.Write("\"])));\r\n                }\r\n            }\r\n");
 } 
            Output.Write("        \r\n        }");
            Output.WriteLine();
        }
        
        /// <summary>
        ///Renders the code as defined in the source script file.
        ///</summary>
        ///<param name="table"></param>
        public virtual void RenderTableRowChangeEvent(System.Data.DataTable table)
        {
            Output.Write("        /// <summary>\r\n        ///Row event argument class\r\n        ///</summary>" +
                    "\r\n        [global::System.CodeDom.Compiler.GeneratedCodeAttribute(\"System.Data.D" +
                    "esign.TypedDataSetGenerator\", \"2.0.0.0\")]\r\n        public class ");
            Output.Write( RowClassName(table) );
            Output.Write("ChangeEvent : global::System.EventArgs {\r\n            \r\n            private ");
            Output.Write( RowClassName(table) );
            Output.Write(" eventRow;\r\n            \r\n            private global::System.Data.DataRowAction e" +
                    "ventAction;\r\n            \r\n            [global::System.Diagnostics.DebuggerNonUs" +
                    "erCodeAttribute()]\r\n            public ");
            Output.Write( RowClassName(table) );
            Output.Write("ChangeEvent(");
            Output.Write( RowClassName(table) );
            Output.Write(" row, global::System.Data.DataRowAction action) {\r\n                this.eventRow " +
                    "= row;\r\n                this.eventAction = action;\r\n            }\r\n            \r" +
                    "\n            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n      " +
                    "      public ");
            Output.Write( RowClassName(table) );
            Output.Write(@" Row {
                get {
                    return this.eventRow;
                }
            }
            
            [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
            public global::System.Data.DataRowAction Action {
                get {
                    return this.eventAction;
                }
            }
        }");
            Output.WriteLine();
        }
    }
}
